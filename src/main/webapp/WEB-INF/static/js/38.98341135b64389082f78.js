webpackJsonp([38],{"8nxj":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mainbatch"},[s("v-head"),e._v(" "),s("div",{attrs:{id:"context"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newsList,border:""}},[s("el-table-column",{attrs:{prop:"courseName",label:"课程名","min-width":"33%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"stuid",label:"ID","min-width":"33%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"名字","min-width":"33%"}}),e._v(" "),s("el-table-column",{attrs:{label:"分数","min-width":"54%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{attrs:{slot:"reference"},slot:"reference"},[s("el-input",{attrs:{placeholder:"",number:""},model:{value:t.row.score,callback:function(s){e.$set(t.row,"score",s)},expression:"scope.row.score"}})],1)]}}])})],1),e._v(" "),s("div",{staticClass:"mainbutton"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.back()}}},[e._v("返回")])],1)],1)],1)},n=[],o={render:a,staticRenderFns:n};t.a=o},IgpR:function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,"#context[data-v-70f298aa]{margin:0 auto;width:98%;background-color:#eef1f6;padding:10px}.mainbutton[data-v-70f298aa]{margin-top:50px;margin-left:0}.el-table[data-v-70f298aa]{text-align:left}","",{version:3,sources:["D:/vueJS/Acase2/src/components/pages/teaBatchScore.vue"],names:[],mappings:"AAGA,0BACI,cAAc,AACd,UAAU,AACV,yBAAyB,AACzB,YAAa,CAChB,AACD,6BACI,gBAAgB,AACnB,aAAgB,CAChB,AACD,2BACA,eAAgB,CACf",file:"teaBatchScore.vue",sourcesContent:["\n.mainbatch[data-v-70f298aa]{\n}\n#context[data-v-70f298aa]{\r\n    margin:0 auto;\r\n    width:98%;\r\n    background-color:#eef1f6;\r\n    padding:10px;\n}\n.mainbutton[data-v-70f298aa]{\r\n    margin-top:50px;\r\n\tmargin-left:0px;\n}\n.el-table[data-v-70f298aa]{\r\ntext-align:left;\n}\r\n"],sourceRoot:""}])},bjjN:function(e,t,s){"use strict";function a(e){s("oCe7")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("jKkV"),o=s("8nxj"),r=s("VU/8"),c=a,l=r(n.a,o.a,!1,c,"data-v-70f298aa",null);t.default=l.exports},jKkV:function(e,t,s){"use strict";(function(e){var a=s("mcOx");t.a={components:{vHead:a.a},created:function(){this.courid=localStorage.getItem("selectCourse");var t=this;e.ajax({type:"post",dataType:"json",url:"/teacher/getStudentTakes",data:{couID:this.courid},success:function(e){""!=e.string&&(console.log("--\x3e",e),t.analysisData(t,e.string),console.log("结束"))},error:function(e){console.log(e),console.log("error")}})},data:function(){return{courid:"",hostURL:"/",newsList:[]}},methods:{getnewsList:function(e){},back:function(){self=this,localStorage.setItem("openClass","1"),console.log(localStorage),self.$router.push("/teacher/registerScore")},submit:function(){for(var t=[],s=0;s<this.newsList.length;s++){var a=[];a.push('{"couID":'),a.push(this.courid),a.push(',"stuID":'),a.push(this.newsList[s].stuid),a.push(',"score":'),a.push(this.newsList[s].score),a.push("}"),t.push(a.join(""))}for(var s=0;s<t.length;s++)console.log(t[s]);for(var n=this,o=!0,s=0;s<n.newsList.length;s++)if(n.newsList[s].score<0||n.newsList[s].score>100||""==n.newsList[s].score){console.log(n.newsList[s].score),o=!1;break}if(o){var r=this.$createElement;this.$msgbox({title:"warning",message:r("p",null,[r("span",null,"是否确定要"),r("i",{style:"color: teal"},"提交")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(s,a,o){if("confirm"===s){console.log("confirm"),e.ajax({type:"post",url:"/teacher/batchregister",dataType:"json",traditional:!0,data:{"scoreBat[]":t},success:function(e){1===e.data?n.$message({type:"success",message:"录入成功!"}):n.$message({type:"warning",message:"录入失败(tips:分数格式)"}),console.log(99)},error:function(e){console.log(e),console.log("error"),n.$message({type:"warning",message:"连接故障"})}}),o()}else console.log("11111111111111111"),n.$message({type:"info",message:"已取消录入"}),o()}})}else n.$message({type:"warning",message:"内容填写不正确，所填分数应在0-100之间！"})},analysisData:function(e,t){var s=t.split(";");console.log(s.length);for(var a=0;a<s.length;a++){for(var n=s[a].split(","),o=new Array,r=0;r<n.length;r++){var c=n[r].split(":");console.log(c[0],"->",c[1]),o[c[0]]=c[1]}o.score="",e.newsList.push(o)}console.log(e.newsList)}}}}).call(t,s("7t+N"))},oCe7:function(e,t,s){var a=s("IgpR");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("rjj0")("3ce7043b",a,!0)}});
//# sourceMappingURL=38.98341135b64389082f78.js.map