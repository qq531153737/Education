{"version":3,"sources":["webpack:///static/js/38.98341135b64389082f78.js","webpack:///./src/components/pages/teaBatchScore.vue?58b5","webpack:///./src/components/pages/teaBatchScore.vue?daea","webpack:///./src/components/pages/teaBatchScore.vue","webpack:///src/components/pages/teaBatchScore.vue","webpack:///./src/components/pages/teaBatchScore.vue?a4d3"],"names":["webpackJsonp","8nxj","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","id","staticStyle","width","data","newsList","border","prop","label","min-width","scopedSlots","_u","key","fn","scope","slot","placeholder","number","model","value","row","callback","$$v","$set","expression","type","on","click","$event","submit","back","staticRenderFns","esExports","IgpR","exports","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","bjjN","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_teaBatchScore_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_70f298aa_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_teaBatchScore_vue__","normalizeComponent","__vue_styles__","Component","jKkV","$","__WEBPACK_IMPORTED_MODULE_0__commons_TeacherNav_vue__","components","vHead","created","courid","localStorage","getItem","vm","ajax","dataType","url","couID","success","response","string","console","log","analysisData","error","err","hostURL","methods","getnewsList","self","setItem","$router","ass","length","temp","stuid","score","join","send","h","$msgbox","title","message","style","showCancelButton","confirmButtonText","cancelButtonText","beforeClose","action","instance","done","traditional","scoreBat[]","$message","responseData","arraya","split","ele","dist","Array","j","eleItem","call","oCe7","content","locals"],"mappings":"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","file":"static/js/38.98341135b64389082f78.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ \"8nxj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainbatch\"},[_c('v-head'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"context\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newsList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"courseName\",\"label\":\"课程名\",\"min-width\":\"33%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stuid\",\"label\":\"ID\",\"min-width\":\"33%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名字\",\"min-width\":\"33%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分数\",\"min-width\":\"54%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-input',{attrs:{\"placeholder\":\"\",\"number\":\"\"},model:{value:(scope.row.score),callback:function ($$v) {_vm.$set(scope.row, \"score\", $$v)},expression:\"scope.row.score\"}})],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"mainbutton\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.back()}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"IgpR\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#context[data-v-70f298aa]{margin:0 auto;width:98%;background-color:#eef1f6;padding:10px}.mainbutton[data-v-70f298aa]{margin-top:50px;margin-left:0}.el-table[data-v-70f298aa]{text-align:left}\", \"\", {\"version\":3,\"sources\":[\"D:/vueJS/Acase2/src/components/pages/teaBatchScore.vue\"],\"names\":[],\"mappings\":\"AAGA,0BACI,cAAc,AACd,UAAU,AACV,yBAAyB,AACzB,YAAa,CAChB,AACD,6BACI,gBAAgB,AACnB,aAAgB,CAChB,AACD,2BACA,eAAgB,CACf\",\"file\":\"teaBatchScore.vue\",\"sourcesContent\":[\"\\n.mainbatch[data-v-70f298aa]{\\n}\\n#context[data-v-70f298aa]{\\r\\n    margin:0 auto;\\r\\n    width:98%;\\r\\n    background-color:#eef1f6;\\r\\n    padding:10px;\\n}\\n.mainbutton[data-v-70f298aa]{\\r\\n    margin-top:50px;\\r\\n\\tmargin-left:0px;\\n}\\n.el-table[data-v-70f298aa]{\\r\\ntext-align:left;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"bjjN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_teaBatchScore_vue__ = __webpack_require__(\"jKkV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_70f298aa_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_teaBatchScore_vue__ = __webpack_require__(\"8nxj\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"oCe7\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70f298aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_teaBatchScore_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_70f298aa_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_teaBatchScore_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"jKkV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commons_TeacherNav_vue__ = __webpack_require__(\"mcOx\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: {\n        vHead: __WEBPACK_IMPORTED_MODULE_0__commons_TeacherNav_vue__[\"a\" /* default */]\n    },\n    created: function created() {\n        this.courid = localStorage.getItem(\"selectCourse\");\n\n        var vm = this;\n        $.ajax({\n            type: 'post',\n            dataType: 'json',\n            url: '/teacher/getStudentTakes',\n            data: {\n                \"couID\": this.courid\n            },\n            success: function success(response) {\n                if (response.string != \"\") {\n                    console.log(\"-->\", response);\n                    vm.analysisData(vm, response.string);\n                    console.log(\"结束\");\n                }\n            },\n            error: function error(err) {\n                console.log(err);\n                console.log(\"error\");\n            }\n        });\n    },\n\n    data: function data() {\n        return {\n            courid: '',\n            hostURL: \"/\",\n            newsList: []\n\n        };\n    },\n    methods: {\n        getnewsList: function getnewsList(id) {\n            //从后端获取数据，id表示获取哪个班的数据\n            var self = this;\n        },\n        back: function back() {\n            self = this;\n            localStorage.setItem(\"openClass\", '1');\n            console.log(localStorage);\n            self.$router.push('/teacher/registerScore');\n        },\n        submit: function submit() {\n            //向后端提交数据\n            var ass = [];\n\n            for (var i = 0; i < this.newsList.length; i++) {\n                var temp = [];\n                temp.push('{\"couID\":');\n                temp.push(this.courid);\n                temp.push(',\"stuID\":');\n                temp.push(this.newsList[i].stuid);\n                temp.push(',\"score\":');\n                temp.push(this.newsList[i].score);\n                temp.push('}');\n                ass.push(temp.join(\"\"));\n            }\n            for (var i = 0; i < ass.length; i++) {\n                console.log(ass[i]);\n            }\n\n            var self = this;\n            var send = true;\n\n            for (var i = 0; i < self.newsList.length; i++) {\n                //alert(self.newsList[i].score);\n                if (self.newsList[i].score < 0 || self.newsList[i].score > 100 || self.newsList[i].score == \"\") {\n                    console.log(self.newsList[i].score);\n                    send = false;\n                    break;\n                }\n            }\n            if (send) {\n                var h = this.$createElement;\n                this.$msgbox({\n                    title: 'warning',\n                    message: h('p', null, [h('span', null, '是否确定要'), h('i', { style: 'color: teal' }, '提交')]),\n                    showCancelButton: true,\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    beforeClose: function beforeClose(action, instance, done) {\n                        if (action === 'confirm') {\n                            var target = '/teacher/batchregister';\n                            console.log(\"confirm\");\n\n                            $.ajax({\n                                type: 'post',\n                                url: target,\n                                dataType: 'json',\n                                traditional: true,\n                                data: {\n                                    \"scoreBat[]\": ass\n                                },\n                                success: function success(response) {\n                                    if (response.data === 1) self.$message({\n                                        type: 'success',\n                                        message: '录入成功!'\n                                    });else {\n                                        self.$message({\n                                            type: 'warning',\n                                            message: '录入失败(tips:分数格式)'\n                                        });\n                                    }\n                                    console.log(99);\n                                },\n                                error: function error(err) {\n                                    console.log(err);\n                                    console.log(\"error\");\n                                    self.$message({\n                                        type: 'warning',\n                                        message: '连接故障'\n                                    });\n                                }\n                            });\n                            done();\n                        } else {\n                            console.log(\"11111111111111111\");\n                            self.$message({\n                                type: 'info',\n                                message: '已取消录入'\n                            });\n                            done();\n                        }\n                    }\n                });\n                //此处选择确定则接着向后端提交数据\n            } else {\n                self.$message({\n                    type: 'warning',\n                    message: '内容填写不正确，所填分数应在0-100之间！'\n                });\n            }\n        },\n        analysisData: function analysisData(vm, responseData) {\n            var arraya = responseData.split(';');\n\n            console.log(arraya.length);\n            for (var i = 0; i < arraya.length; i++) {\n                var ele = arraya[i].split(',');\n                var dist = new Array();\n                for (var j = 0; j < ele.length; j++) {\n                    var eleItem = ele[j].split(':');\n                    console.log(eleItem[0], '->', eleItem[1]);\n                    dist[eleItem[0]] = eleItem[1];\n                }\n                dist[\"score\"] = \"\";\n                vm.newsList.push(dist);\n            }\n            console.log(vm.newsList);\n        }\n    }\n\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"oCe7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"IgpR\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"3ce7043b\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/38.98341135b64389082f78.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainbatch\"},[_c('v-head'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"context\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newsList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"courseName\",\"label\":\"课程名\",\"min-width\":\"33%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stuid\",\"label\":\"ID\",\"min-width\":\"33%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名字\",\"min-width\":\"33%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分数\",\"min-width\":\"54%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-input',{attrs:{\"placeholder\":\"\",\"number\":\"\"},model:{value:(scope.row.score),callback:function ($$v) {_vm.$set(scope.row, \"score\", $$v)},expression:\"scope.row.score\"}})],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"mainbutton\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.back()}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70f298aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/teaBatchScore.vue\n// module id = 8nxj\n// module chunks = 38","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#context[data-v-70f298aa]{margin:0 auto;width:98%;background-color:#eef1f6;padding:10px}.mainbutton[data-v-70f298aa]{margin-top:50px;margin-left:0}.el-table[data-v-70f298aa]{text-align:left}\", \"\", {\"version\":3,\"sources\":[\"D:/vueJS/Acase2/src/components/pages/teaBatchScore.vue\"],\"names\":[],\"mappings\":\"AAGA,0BACI,cAAc,AACd,UAAU,AACV,yBAAyB,AACzB,YAAa,CAChB,AACD,6BACI,gBAAgB,AACnB,aAAgB,CAChB,AACD,2BACA,eAAgB,CACf\",\"file\":\"teaBatchScore.vue\",\"sourcesContent\":[\"\\n.mainbatch[data-v-70f298aa]{\\n}\\n#context[data-v-70f298aa]{\\r\\n    margin:0 auto;\\r\\n    width:98%;\\r\\n    background-color:#eef1f6;\\r\\n    padding:10px;\\n}\\n.mainbutton[data-v-70f298aa]{\\r\\n    margin-top:50px;\\r\\n\\tmargin-left:0px;\\n}\\n.el-table[data-v-70f298aa]{\\r\\ntext-align:left;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-70f298aa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/pages/teaBatchScore.vue\n// module id = IgpR\n// module chunks = 38","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70f298aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./teaBatchScore.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./teaBatchScore.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70f298aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./teaBatchScore.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70f298aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/teaBatchScore.vue\n// module id = bjjN\n// module chunks = 38","<template>\r\n    <div class=\"mainbatch\">\r\n\t<v-head></v-head>\r\n    <div id=\"context\"> \r\n       <el-table\r\n      :data=\"newsList\"\r\n\t  border\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"courseName\"\r\n        label=\"课程名\"\r\n        min-width=\"33%\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"stuid\"\r\n        label=\"ID\"\r\n        min-width=\"33%\">\r\n      </el-table-column>\r\n\t  <el-table-column\r\n\t    prop=\"name\"\r\n        label=\"名字\"\r\n        min-width=\"33%\" >\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"分数\"\r\n\t\tmin-width=\"54%\">\r\n\t\t<template slot-scope=\"scope\">\r\n          <div slot=\"reference\">\r\n\t\t<el-input placeholder=\"\" v-model=\"scope.row.score\" number></el-input>\r\n\t\t</div>\r\n      </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\t<div class=\"mainbutton\">\r\n\t <el-button type=\"primary\" @click=\"submit()\">提交</el-button>\r\n      <el-button type=\"primary\" @click=\"back()\">返回</el-button>\r\n       </div>\r\n       </div>  \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import vHead from '../commons/TeacherNav.vue';\r\n    export default {\r\n\tcomponents:{\r\n        vHead,\r\n    },\r\n    created(){\r\n        this.courid=localStorage.getItem(\"selectCourse\");\r\n\r\n        var vm=this;\r\n        $.ajax({\r\n            type:'post',\r\n            dataType:'json',\r\n            url:'/teacher/getStudentTakes',\r\n            data:{\r\n                \"couID\":this.courid\r\n            },\r\n            success:function(response){\r\n                if(response.string!=\"\"){\r\n                    console.log(\"-->\",response);\r\n                    vm.analysisData(vm,response.string);\r\n                    console.log(\"结束\");\r\n                }\r\n\r\n            },\r\n            error:function(err){\r\n                console.log(err);\r\n                console.log(\"error\");\r\n            }\r\n        })\r\n\r\n\r\n\r\n    },\r\n    data: function(){\r\n        return {\r\n                courid:'',                \r\n                hostURL:\"/\",\r\n                newsList: []\r\n\r\n\r\n            }\r\n        },\r\n        methods:{\r\n            getnewsList(id){//从后端获取数据，id表示获取哪个班的数据\r\n                var self = this;\r\n\r\n            },\r\n           back(){\r\n            self=this;\r\n             localStorage.setItem(\"openClass\",'1');\r\n            console.log(localStorage)\r\n\t\t    self.$router.push('/teacher/registerScore');\r\n\t\t   },\r\n        submit(){//向后端提交数据\r\n                var ass=[];\r\n               \r\n                for(var i=0;i<this.newsList.length;i++){\r\n                    var temp=[];\r\n                    temp.push('{\"couID\":');\r\n                    temp.push(this.courid);\r\n                    temp.push(',\"stuID\":');\r\n                    temp.push(this.newsList[i].stuid);\r\n                    temp.push(',\"score\":');\r\n                    temp.push(this.newsList[i].score);\r\n                    temp.push('}');\r\n                    ass.push(temp.join(\"\"));\r\n                }\r\n                for(var i=0;i<ass.length;i++){\r\n                    console.log(ass[i])\r\n                }\r\n\r\n                var self=this;\r\n                var send=true;\r\n                \r\n                for(var i=0;i<self.newsList.length;i++){\r\n\t\t\t\t//alert(self.newsList[i].score);\r\n                    if(self.newsList[i].score<0||self.newsList[i].score>100||self.newsList[i].score==\"\"){ \r\n                        console.log(self.newsList[i].score)\r\n                        send=false;\r\n                        break;\r\n                    }\r\n                }\r\n\t\t\t\tif(send){\r\n                    const h = this.$createElement;\r\n                   this.$msgbox({\r\n                    title: 'warning',\r\n                    message: h('p', null, [\r\n                    h('span', null, '是否确定要'),\r\n                    h('i', { style: 'color: teal' }, '提交')\r\n                    ]),\r\n                    showCancelButton: true,\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    beforeClose: (action, instance, done) => {\r\n                                if (action === 'confirm') {\r\n                                    var target='/teacher/batchregister';\r\n                                    console.log(\"confirm\");\r\n                                  \r\n                                    $.ajax({\r\n                                        type:'post',\r\n                                        url:target,\r\n                                        dataType:'json',\r\n                                        traditional: true,\r\n                                        data:{\r\n                                           \"scoreBat[]\":ass,\r\n                                        },\r\n                                        success:function(response){\r\n                                        if(response.data===1)\r\n                                            self.$message({\r\n                                                type: 'success',\r\n                                                message: '录入成功!'\r\n                                        })\r\n                                        else{\r\n                                            self.$message({\r\n                                                type:'warning',\r\n                                                message:'录入失败(tips:分数格式)'\r\n                                            })\r\n                                        }    \r\n                                            console.log(99) \r\n                                        \r\n                                        },\r\n                                        error:function(err){\r\n                                        console.log(err)\r\n                                        console.log(\"error\")\r\n                                         self.$message({\r\n                                                type:'warning',\r\n                                                message:'连接故障'\r\n                                            })\r\n                                        }\r\n                                    })\r\n                                    done();\r\n                                    }else{\r\n                                        console.log(\"11111111111111111\");\r\n                                        self.$message({\r\n                                                    type: 'info',\r\n                                                    message: '已取消录入'\r\n                                                });    \r\n                                        done();\r\n                                }\r\n                        }\r\n                    })       \r\n                        //此处选择确定则接着向后端提交数据\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n                    self.$message({\r\n                        type:'warning',\r\n                        message:'内容填写不正确，所填分数应在0-100之间！'\r\n                    })\r\n                }\r\n                \r\n            },\r\n        analysisData(vm,responseData){\r\n        var arraya=responseData.split(';')\r\n        \r\n            console.log(arraya.length)\r\n            for(var i=0;i<arraya.length;i++){\r\n            var ele=arraya[i].split(',');\r\n            var dist=new Array();\r\n            for(var j=0;j<ele.length;j++){\r\n                var eleItem=ele[j].split(':')\r\n                console.log(eleItem[0],'->',eleItem[1])\r\n                dist[eleItem[0]]=eleItem[1]\r\n                }\r\n            dist[\"score\"]=\"\";\r\n            vm.newsList.push(dist);\r\n            }\r\n            console.log(vm.newsList)\r\n        },\r\n\r\n\r\n        },\r\n        \r\n  \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.mainbatch{\r\n \r\n  }\r\n#context{\r\n    margin:0 auto;\r\n    width:98%;\r\n    background-color:#eef1f6;\r\n    padding:10px;\r\n}\r\n.mainbutton{\r\n    margin-top:50px;\r\n\tmargin-left:0px;\r\n}\r\n.el-table{\r\ntext-align:left;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/pages/teaBatchScore.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70f298aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./teaBatchScore.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3ce7043b\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-70f298aa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/pages/teaBatchScore.vue\n// module id = oCe7\n// module chunks = 38"],"sourceRoot":""}